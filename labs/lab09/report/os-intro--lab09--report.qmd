---
## Author
author:
  name: Mohamed Musa
  student_number: "1032248286"
  group: "НКАбд-05"
  year: "2 год"
  email: "1032248286@pfur.ru"
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 19

## Title
title: "Лабораторная работа №9"
subtitle: "Работа с файловым менеджером Midnight Commander"
license: "CC BY"
---

# Цель работы

Изучить основы работы с файловым менеджером Midnight Commander в операционной системе Linux, освоить навигацию по файловой системе и выполнение основных операций с файлами.

# Задание

1. Освоить запуск и базовую навигацию в Midnight Commander
2. Научиться выполнять основные операции с файлами и директориями
3. Изучить функциональные клавиши и меню программы
4. Практиковать копирование, перемещение и удаление файлов
5. Освоить просмотр содержимого файлов

# Теоретическое введение

## Что такое Midnight Commander?

**Midnight Commander (mc)** — это мощный текстовый файловый менеджер для Unix-подобных операционных систем. Разработанный в 1994 году, MC предоставляет удобный двухпанельный интерфейс для работы с файловой системой, напоминающий классический Norton Commander для DOS.

**Основные возможности mc:**

- **Двухпанельный интерфейс** — одновременный просмотр двух директорий
- **Встроенный редактор** (mcedit) — редактирование файлов с подсветкой синтаксиса
- **Встроенный просмотрщик** (mcview) — просмотр файлов различных форматов
- **Работа с архивами** — просмотр и извлечение файлов из архивов как из директорий
- **Поддержка сети** — работа с FTP, SFTP, SSH
- **Виртуальная файловая система (VFS)** — работа с различными типами файловых систем
- **Поиск файлов** — мощный инструмент поиска с поддержкой регулярных выражений
- **Операции с файлами** — копирование, перемещение, удаление с прогресс-баром

## Функциональные клавиши (F1-F10)

Основные операции в MC выполняются с помощью функциональных клавиш:

| Клавиша | Функция | Описание |
|---------|---------|----------|
| **F1** | Help | Вызов справки |
| **F2** | Menu | Пользовательское меню |
| **F3** | View | Просмотр файла |
| **F4** | Edit | Редактирование файла |
| **F5** | Copy | Копирование файлов/директорий |
| **F6** | RenMov | Перемещение/переименование |
| **F7** | Mkdir | Создание директории |
| **F8** | Delete | Удаление файлов/директорий |
| **F9** | PullDn | Вызов главного меню |
| **F10** | Quit | Выход из программы |

## Навигационные клавиши

**Основная навигация:**

- **↑ ↓** — перемещение по списку файлов вверх/вниз
- **← →** — перемещение влево/вправо (в некоторых режимах)
- **Home** — переход к началу списка
- **End** — переход к концу списка
- **PgUp** — страница вверх
- **PgDn** — страница вниз
- **Enter** — вход в директорию или открытие файла
- **Tab** — переключение между левой и правой панелями
- **Ctrl+O** — временное скрытие панелей (показать командную строку)

**Быстрая навигация:**

- **Alt+<** — переход к предыдущей директории в истории
- **Alt+>** — переход к следующей директории в истории
- **Alt+H** — показать историю директорий
- **Alt+Y** — переход к предыдущей директории
- **Alt+U** — переход к следующей директории
- **Ctrl+\** — показать список избранных директорий

## Выделение и работа с файлами

**Выделение файлов:**

- **Insert** — выделить/снять выделение с текущего файла и перейти к следующему
- **+** (плюс) — выделить группу файлов по маске
- **\** (обратный слэш) — снять выделение с группы файлов по маске
- **\*** (звездочка) — инвертировать выделение
- **Ctrl+T** — выделить текущий файл

**Операции с файлами:**

- **F5** — копировать выделенные файлы
- **F6** — переместить/переименовать выделенные файлы
- **F8** — удалить выделенные файлы
- **Shift+F5** — создать символическую ссылку
- **Shift+F6** — создать жесткую ссылку
- **Ctrl+X, C** — изменить права доступа (chmod)
- **Ctrl+X, O** — изменить владельца (chown)

## Поиск и фильтрация

**Поиск файлов:**

- **Alt+?** или **Esc, ?** — диалог поиска файлов
- **Alt+S** или **Ctrl+S** — быстрый поиск (начать вводить имя файла)
- **Ctrl+S** — повторить последний быстрый поиск

**Фильтрация:**

- **Ctrl+X, J** — показать только файлы, соответствующие маске
- **Alt+,** — переключение между различными режимами сортировки

## Просмотр и редактирование

**Просмотр файлов (F3):**

- **F3** — открыть файл в просмотрщике (mcview)
- **F4** — открыть файл в редакторе (mcedit)
- **F13** (Shift+F3) — просмотр в raw-режиме

**В режиме просмотра:**

- **F2** — переключение между режимами (hex, text, parsed)
- **F4** — переключение в режим hex
- **F8** — переключение между raw/parsed режимами
- **/** — поиск текста
- **?** — поиск в обратном направлении
- **n** — следующее совпадение
- **Space** — страница вниз
- **b** — страница вверх

**В режиме редактирования (mcedit):**

- **F2** — сохранить файл
- **F5** — копировать блок
- **F6** — переместить блок
- **F7** — поиск
- **F8** — удалить блок
- **F9** — меню редактора
- **F10** — выход
- **Shift+F5** — вставить файл
- **Ctrl+U** — отменить действие
- **Ctrl+Y** — удалить строку

## Панели и отображение

**Режимы отображения панелей:**

- **Alt+T** — переключение режима отображения списка (полный, краткий, расширенный)
- **Alt+I** — синхронизировать директории обеих панелей
- **Ctrl+U** — поменять панели местами
- **Alt+O** — показать другую панель в режиме дерева директорий
- **Ctrl+X, I** — показать информацию о другой панели
- **Ctrl+X, Q** — показать быструю панель

**Сортировка:**

- **Ctrl+X, S** — сортировка по размеру
- **Ctrl+X, T** — сортировка по времени модификации
- **Ctrl+X, E** — сортировка по расширению
- **Ctrl+X, N** — сортировка по имени (по умолчанию)

## Командная строка

**Работа с командной строкой:**

- **Ctrl+Enter** или **Alt+Enter** — скопировать имя файла в командную строку
- **Ctrl+Shift+Enter** — скопировать полный путь к файлу
- **Alt+A** — скопировать все выделенные файлы в командную строку
- **Alt+Tab** — автодополнение имени файла
- **Ctrl+X, T** — скопировать выделенные файлы в командную строку

## Работа с архивами

MC позволяет работать с архивами как с обычными директориями:

- **Enter** на архиве — войти в архив как в директорию
- **F5** — извлечь файлы из архива
- **F5** в архив — добавить файлы в архив

**Поддерживаемые форматы:**
- tar, tar.gz, tar.bz2, tar.xz
- zip, rar, 7z
- rpm, deb
- iso, cpio

## Сетевые возможности

**Подключение к удаленным системам:**

- **F9 → Left/Right → FTP link** — подключение по FTP
- **F9 → Left/Right → Shell link** — подключение по SSH
- **F9 → Left/Right → SFTP link** — подключение по SFTP

**Формат подключения:**
```
ftp://[user@]host[:port]/[path]
sh://[user@]host[:port]/[path]
sftp://[user@]host[:port]/[path]
```

## Дополнительные комбинации клавиш

**Полезные сочетания:**

- **Ctrl+X, C** — chmod (изменить права)
- **Ctrl+X, O** — chown (изменить владельца)
- **Ctrl+X, L** — создать ссылку
- **Ctrl+X, S** — создать символическую ссылку
- **Ctrl+X, !** — выполнить внешнюю команду
- **Ctrl+X, D** — сравнить директории
- **Ctrl+Space** — вычислить размер директории
- **Alt+,** — переключить режим панели
- **Alt+.** — показать/скрыть скрытые файлы
- **Alt+Enter** — показать свойства файла

# Выполнение лабораторной работы

## Запуск Midnight Commander

Для запуска файлового менеджера Midnight Commander используется команда:

```bash
mc
```

Интерфейс программы показан на рисунке @fig-mc. Видны две панели для работы с файлами, командная строка внизу и функциональные клавиши.

![Интерфейс Midnight Commander](image/mc.png){#fig-mc width=80%}

**Основные элементы интерфейса:**

1. **Левая панель** — отображает содержимое одной директории
2. **Правая панель** — отображает содержимое другой директории
3. **Командная строка** — внизу экрана для ввода команд
4. **Строка меню** — доступна по F9
5. **Подсказки функциональных клавиш** — внизу экрана (F1-F10)

## Навигация по файловой системе

Была изучена навигация по файловой системе с помощью различных клавиш:

**Базовая навигация:**

```bash
# Запуск mc
mc

# Перемещение по файлам
↑ ↓         # вверх/вниз по списку
Home        # в начало списка
End         # в конец списка
PgUp/PgDn   # постраничная прокрутка

# Переключение между панелями
Tab         # переход между левой и правой панелью

# Вход в директории
Enter       # войти в выделенную директорию
Backspace   # вернуться в родительскую директорию

# Быстрый поиск
Ctrl+S      # начать быстрый поиск (ввести первые буквы имени)
```

**Продвинутая навигация:**

```bash
# История директорий
Alt+H       # показать историю посещенных директорий
Alt+<       # предыдущая директория
Alt+>       # следующая директория

# Скрытие панелей
Ctrl+O      # временно скрыть панели и показать вывод команд
```

## Операции с файлами и директориями

В ходе работы были выполнены следующие операции:

**Создание директории:**

```bash
F7          # создать новую директорию
# Вводим имя директории в диалоговом окне
```

**Копирование файлов:**

```bash
# Выделить файлы
Insert      # выделить текущий файл
+           # выделить группу по маске (например, *.txt)

# Копировать
F5          # копировать выделенные файлы
# Указать целевую директорию в диалоге
```

**Перемещение и переименование:**

```bash
F6          # переместить или переименовать файл
# Изменить путь назначения для перемещения
# Или изменить только имя для переименования
```

**Удаление файлов:**

```bash
F8          # удалить выделенные файлы
# Подтвердить удаление в диалоговом окне
```

**Выделение файлов:**

```bash
Insert      # выделить/снять выделение с файла
+           # выделить группу по маске
\           # снять выделение с группы
*           # инвертировать выделение
```

## Просмотр и редактирование файлов

**Просмотр содержимого файлов:**

Было изучено использование встроенного просмотрщика (mcview):

```bash
F3          # открыть файл в режиме просмотра

# В режиме просмотра:
F2          # переключение режимов (text/hex/parsed)
F4          # режим hex
/           # поиск текста
n           # следующее совпадение
Space       # страница вниз
b           # страница вверх
q или F10   # выход из просмотрщика
```

**Редактирование файлов:**

Использование встроенного редактора (mcedit):

```bash
F4          # открыть файл в редакторе

# В режиме редактирования:
F2          # сохранить файл
F5          # копировать блок
F6          # переместить блок
F7          # поиск
F8          # удалить блок
F9          # меню редактора
F10         # выход
Ctrl+U      # отменить действие
```

## Поиск файлов

Использование функции поиска файлов:

```bash
Alt+?       # открыть диалог поиска файлов

# В диалоге поиска можно указать:
# - Имя файла (с поддержкой масок: *.txt, file?.doc)
# - Содержимое файла (текст для поиска внутри файлов)
# - Начальную директорию для поиска
```

## Работа с архивами

MC позволяет работать с архивами как с обычными директориями:

```bash
# Просмотр содержимого архива
Enter       # на файле архива (.tar.gz, .zip, .rar и т.д.)

# Извлечение файлов
F5          # копировать файлы из архива в другую панель

# Создание архива
# Выделить файлы и нажать F2 (User menu)
# Выбрать опцию создания архива
```

## Изменение прав доступа

Изменение прав доступа к файлам:

```bash
Ctrl+X, C   # открыть диалог chmod
# Установить права в числовом (755) или символьном виде
# Применить к файлу или рекурсивно к директории
```

## Настройка панелей

Настройка отображения панелей:

```bash
Alt+T       # переключение режима отображения
            # (полный список, краткий, расширенный)

Alt+I       # показать информацию о файле

Alt+.       # показать/скрыть скрытые файлы (начинающиеся с .)

Ctrl+X, S   # сортировка по размеру
Ctrl+X, T   # сортировка по времени
Ctrl+X, E   # сортировка по расширению
```

# Выводы

В ходе лабораторной работы были успешно выполнены следующие задачи:

1. ✅ **Освоен запуск и базовая навигация в Midnight Commander**
   - Изучен двухпанельный интерфейс
   - Освоена навигация с помощью стрелок, Tab, Home, End
   - Практиковано переключение между панелями

2. ✅ **Изучены основные операции с файлами и директориями**
   - Создание директорий (F7)
   - Копирование файлов (F5)
   - Перемещение и переименование (F6)
   - Удаление файлов и директорий (F8)

3. ✅ **Практиковано использование функциональных клавиш (F1-F10)**
   - F1 (Help) — справочная система
   - F3 (View) — просмотр файлов
   - F4 (Edit) — редактирование файлов
   - F5-F8 — операции с файлами
   - F9 (Menu) — главное меню
   - F10 (Quit) — выход

4. ✅ **Выполнены операции копирования, перемещения и удаления файлов**
   - Выделение файлов с помощью Insert и +
   - Групповые операции с файлами
   - Работа с масками файлов

5. ✅ **Освоен просмотр и редактирование содержимого файлов**
   - Встроенный просмотрщик mcview (F3)
   - Встроенный редактор mcedit (F4)
   - Различные режимы просмотра (text, hex, parsed)

**Дополнительно освоены:**

- Поиск файлов с помощью Alt+? и быстрый поиск (Ctrl+S)
- Работа с архивами как с обычными директориями
- Изменение прав доступа (Ctrl+X, C)
- Настройка отображения панелей (Alt+T, Alt+.)
- Сортировка файлов по различным критериям
- Использование командной строки совместно с панелями (Ctrl+O)

**Полученные навыки:**

Midnight Commander значительно упрощает работу с файловой системой Linux благодаря:

- **Визуальному интерфейсу** — не нужно запоминать сложные команды
- **Двухпанельному режиму** — удобное копирование между директориями
- **Встроенным инструментам** — просмотрщик и редактор всегда под рукой
- **Клавиатурным сокращениям** — быстрое выполнение операций
- **Работе с архивами** — прозрачный доступ к содержимому архивов

Эти навыки особенно полезны при работе на удаленных серверах через SSH, где графический интерфейс недоступен, а также для эффективного администрирования Linux-систем.

# Список литературы{.unnumbered}

::: {#refs}
- Midnight Commander Official Website: [https://midnight-commander.org/](https://midnight-commander.org/)
- Midnight Commander Documentation: [https://midnight-commander.org/wiki/doc](https://midnight-commander.org/wiki/doc)
- MC User's Guide: [https://www.ibiblio.org/mc/](https://www.ibiblio.org/mc/)
- GNU Midnight Commander Manual: [https://www.gnu.org/software/mc/](https://www.gnu.org/software/mc/)
- Linux File Managers: [https://wiki.archlinux.org/title/File_manager_functionality](https://wiki.archlinux.org/title/File_manager_functionality)
- Midnight Commander Keyboard Shortcuts: [https://midnight-commander.org/wiki/doc/common/actions](https://midnight-commander.org/wiki/doc/common/actions)
:::
